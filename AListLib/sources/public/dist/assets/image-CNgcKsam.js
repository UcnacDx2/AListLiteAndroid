import{k as f,U as r,al as g,an as u,E as o,a0 as c,q as p,a2 as w}from"./index-Bl5KfUKm.js";import{I as v}from"./ImageWithError-JCdRxmqI.js";import{O as b}from"./icon-DqPtjxiZ.js";import"./index-C_xnhf0Z.js";import"./Layout-CtHmJknm.js";import"./useTitle-COa73MJx.js";import"./FolderTree-CHsUuiQU.js";import"./index-BelfiY12.js";import"./ModalInput-CTZQE0yv.js";import"./index-fAEGil0n.js";import"./share-BJOZaU2H.js";import"./index-S6P6XS8L.js";const O=n=>{const s=p(),{replace:i}=f();let t=n.images||r.objs.filter(e=>e.type===b.IMAGE);t.length===0&&(t=[r.obj]);const l=()=>{const e=t.findIndex(a=>a.name===r.obj.name);e>0&&(n.navigate?n.navigate(t[e-1].name):i(t[e-1].name))},d=()=>{const e=t.findIndex(a=>a.name===r.obj.name);e<t.length-1&&(n.navigate?n.navigate(t[e+1].name):i(t[e+1].name))},m=e=>{e.key==="ArrowLeft"?l():e.key==="ArrowRight"&&d()};return g(()=>{window.addEventListener("keydown",m)}),u(()=>{window.removeEventListener("keydown",m)}),o(v,{maxH:"75vh",rounded:"$lg",get src(){return r.raw_url},get fallback(){return o(w,{})},get fallbackErr(){return o(c,{get msg(){return s("home.preview.failed_load_img")}})}})};export{O as default};
