System.register(["./index-legacy-BzvznpU_.js"],function(e,t){"use strict";var n,r,l,o,i,u,a,g,c,d,s,h,p,f,m,S,b,v;return{setters:[e=>{n=e.X,r=e.T,l=e.E,o=e.aR,i=e.aS,u=e.aT,a=e.q,g=e.aU,c=e.S,d=e.bW,s=e.bo,h=e.df,p=e.aW,f=e.a8,m=e.aX,S=e.bp,b=e.x,v=e.an}],execute:function(){e("M",e=>{const[t,w]=n(e.defaultValue??""),[y,k]=n(""),x=a();let F;const C=()=>{const n=t().lastIndexOf(".");setTimeout(()=>{n>0&&e.isRenamingFile?F.setSelectionRange(0,n):F.select()},10)};r(()=>{F&&(F.focus(),C()),v(()=>{F&&F.setSelectionRange(0,0)})}),r(()=>{e.opened||w("")});const T=()=>{if(e.validateFilename){const e=S(t());if(!e.valid)return void b.warning(x(`global.${e.error}`))}else if(!t()||0===t().trim().length)return void b.warning(x("global.empty_input"));e.onSubmit?.(t())},R=t=>{if(w(t),e.validateFilename){const e=S(t);k(e.valid?"":e.error||"")}else k("")};return l(m,{blockScrollOnMount:!1,get opened(){return e.opened},get onClose(){return e.onClose},initialFocus:"#modal-input",get children(){return[l(o,{}),l(i,{onDrop:t=>e.onDrop?.(t,w),get children(){return[l(u,{get children(){return x(e.title)}}),l(g,{get children(){return[l(c,{get when(){return e.topSlot},get children(){return e.topSlot}}),l(c,{get when(){return"text"===e.type},get fallback(){return l(s,{id:"modal-input",get type(){return e.type},get value(){return t()},ref:e=>F=e,get invalid(){return!!y()},onInput:e=>{R(e.currentTarget.value)},onFocus:C,onKeyDown:e=>{"Enter"===e.key&&T()}})},get children(){return l(d,{id:"modal-input",get value(){return t()},ref:e=>F=e,get invalid(){return!!y()},onInput:e=>{R(e.currentTarget.value)},onFocus:C})}}),l(c,{get when(){return y()},get children(){return l(h,{color:"$danger9",get children(){return x(`global.${y()}`)}})}}),l(c,{get when(){return e.tips},get children(){return l(h,{get children(){return e.tips}})}}),l(c,{get when(){return e.bottomSlot},get children(){return e.bottomSlot}})]}}),l(p,{display:"flex",gap:"$2",get children(){return[l(c,{get when(){return e.footerSlot},get children(){return e.footerSlot}}),l(f,{get onClick(){return e.onClose},colorScheme:"neutral",get children(){return x("global.cancel")}}),l(f,{get loading(){return e.loading},onClick:()=>T(),get children(){return x("global.ok")}})]}})]}})]}})})}}});
